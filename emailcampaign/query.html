<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="query-builder.default.min.css">
</head>

<body>

    <div class="col-md-12">
        <div id="builder-basic" class="query-builder form-inline">
          
        </div>

        <div class="btn-group">
            <button class="btn btn-warning reset" data-target="basic" id="btn-reset">Reset</button>
            <button class="btn btn-success set-json" data-target="basic" id="btn-set">Set rules</button>
            <button class="btn btn-primary parse-json" data-target="basic" id="btn-get">Get rules</button>
            <button class="btn btn-primary parse-json" data-target="basic" id="get-sql">Get Sql</button>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://rawgit.com/mistic100/jQuery.extendext/master/jQuery.extendext.min.js"></script>
    <script src="query-builder.standalone.js"></script>
    <script>
     

        $('#builder-basic').queryBuilder({
            plugins: ['bt-tooltip-errors'],

            filters: [{
                id: 'UPPER(name)',
                label: 'Name',
                type: 'string'
            }, {
                id: 'Occupation',
                label: 'Occupation',
                type: 'integer',
                input: 'select',
                values: [
                    'Doctor',
                     'Teacher',
                    'Fireman',
                    'Soldier',
                    'Lawyer',
                    'HouseKeeper',
                    'Chef',
                    'Waitress',
                    'Others'
                ],
                operators: ['equal', 'not_equal','in']
            }, {
                id: 'Age',
                label: 'Age',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },
            {
                id: 'dpd',
                label: 'Days Past Due',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'promise',
                label: 'Promise to Pay',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'value',
                label: 'Value',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'product_type',
                label: 'Product Type',
                type: 'integer',
                input: 'select',
                values: [
                    'Card',
                     'Loan'
                ],
                operators: ['equal', 'not_equal','in']
            },{
                id: 'nature',
                label: 'Nature of Advance',
                type: 'integer',
                input: 'select',
                values: [
                    'Secured',
                     'Unsecured'
                ],
                operators: ['equal', 'not_equal','in']
            },{
                id: 'sol_id',
                label: 'SOL ID',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'gender',
                label: 'Gender',
                type: 'integer',
                input: 'select',
                values: [
                    'Male',
                     'Female'
                ],
                operators: ['equal', 'not_equal','in']
            }, {
                id:'result',
                label: 'Result Code',
                type: 'integer',
                input: 'select',
                values: [

                     'D015',
                     'D030',
                     'D060',
                     'D090',
                     'WOFF',
                     'BLBD',
                     
                ],
                operators: ['equal', 'not_equal','in']
            },],

          
        });

        $('#btn-reset').on('click', function () {
            $('#builder-basic').queryBuilder('reset');
        });

       

        $('#btn-get').on('click', function () {
            var result = $('#builder-basic').queryBuilder('getRules');

            if (!$.isEmptyObject(result)) {
                console.log(JSON.stringify(result, null, 2));
            }
        });
        $("#get-sql").on('click',function(){
            var sql_raw = $('#builder-basic').queryBuilder('getSQL', false, true);
            console.log(sql_raw);
        })
    </script>
</body>

</html>