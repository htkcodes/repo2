<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://rawgit.com/htkcodes/repo2/master/emailcampaign/main.css">
  <link rel="stylesheet" href="https://rawgit.com/htkcodes/repo2/master/emailcampaign/query-builder.default.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css">
</head>

<body>
        <div id="dialog-confirm">
                <p>Once saved you cannot stop the process or start over. Are you sure?</p>
              </div>


  <div class="form-body">
    <div class="logo">
      <a href="#">
        <div class="inner"><img src="https://i.imgur.com/VIDLtws.png" alt="NCB Logo" class="logo-size"></div>
      </a>
    </div>
    <div class="row">
      <div class="img-holder">
        <div class="bg"></div>
        <div class="info-holder">
          <img src="email.png" alt="">
          <h3 class="text-center sidebar-header">Email Campaign</h3>
        </div>
      </div>
      <div class="form">
        <h3>Email Campaign Generation</h3>
        <p class="text-left sub-heading">Define the email campaign criteria below</p>
        <div class="seperator"></div>
        <div class="form-content">
          <div class="form-items">
            <div class="col-md-12">
                    <div class="form-group">
                            <label for="criteria_name">Criteria Name</label>
                            <input type="text" class="form-control" id="criteria_name" placeholder="Criteria Name">
                          </div>

              <div id="builder-basic" class="query-builder form-inline">
                
              </div>
      
              <div class="btn-group">
                  <button class="btn btn-warning reset" data-target="basic" id="btn-reset">Reset</button>
                  <button class="btn btn-primary parse-json" data-target="basic" id="get-save">Save</button>
              </div>
          </div>
          </div>
        </div>
      </div>
    </div>

  </div>
 
      
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.3/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://rawgit.com/mistic100/jQuery.extendext/master/jQuery.extendext.min.js"></script>
    <script src="https://rawgit.com/htkcodes/repo2/master/emailcampaign/query-builder.standalone.js"></script>
    <script>


    $( "#dialog-confirm" ).dialog({
    autoOpen:true,
      resizable: false,
      title:'Are you sure?',
      height: "auto",
      width: 400,
      modal: true,
      buttons: {
        "Delete all items": function() {
          $( this ).dialog( "close" );
        },
        Cancel: function() {
          $( this ).dialog( "close" );
        }
      }
    });


        $('#builder-basic').queryBuilder({
            plugins: ['bt-tooltip-errors'],

            filters: [
               {
                id: 'Occupation',
                label: 'Occupation',
                type: 'integer',
                input: 'select',
                values: [
                    'Doctor',
                     'Teacher',
                    'Fireman',
                    'Soldier',
                    'Lawyer',
                    'HouseKeeper',
                    'Chef',
                    'Waitress',
                    'Others'
                ],
                operators: ['equal', 'not_equal','in']
            }, {
                id: 'Age',
                label: 'Age',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },
            {
                id: 'dpd',
                label: 'Days Past Due',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'promise',
                label: 'Promise to Pay',
                type: 'integer',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'value',
                label: 'Principal Balance Outstanding',
                type: 'double',
                input: 'number',
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'product_type',
                label: 'Product Type',
                type: 'integer',
                input: 'select',
                values: [
                    'Card',
                     'Loan'
                ],
                operators: ['equal', 'not_equal','in']
            },{
                id: 'nature',
                label: 'Nature of Advance',
                type: 'integer',
                input: 'select',
                values: [
                    'Secured',
                     'Unsecured'
                ],
                operators: ['equal', 'not_equal','in']
            },{
                id: 'sol_id',
                label: 'SOL ID',
                type: 'string',
                input: 'text',
                validation:{
format:/^\d{3}?$/,
messages:{
    format:'Only 3 Digits are allowed.'
}
                },
                operators: ['equal','not_equal','greater','greater_or_equal','between','not_between','less','less_or_equal']
            },{
                id: 'gender',
                label: 'Gender',
                type: 'integer',
                input: 'select',
                values: [
                    'Male',
                     'Female'
                ],
                operators: ['equal', 'not_equal','in']
            }, {
                id:'result',
                label: 'Result Code',
                type: 'integer',
                input: 'select',
                values: [

                     'D015',
                     'D030',
                     'D060',
                     'D090',
                     'WOFF',
                     'BLBD',
                     
                ],
                operators: ['equal', 'not_equal','in']
            },],

          
        });

        $('#btn-reset').on('click', function () {
            $('#builder-basic').queryBuilder('reset');
        });

       

        $('#btn-get').on('click', function () {
            var result = $('#builder-basic').queryBuilder('getRules');

            if (!$.isEmptyObject(result)) {
                console.log(JSON.stringify(result, null, 2));
            }
        });
        $("#get-save").on('click',function(){
            /* $("#dialog-confirm").dialog('option','buttons',[
                {
                    text:"Yes",
                    click:function(){
                        var sql_raw = $('#builder-basic').queryBuilder('getSQL', false, true);
            console.log(sql_raw);
                    }
                }
            ]); */
           
        })
    </script>

</body>

</html>